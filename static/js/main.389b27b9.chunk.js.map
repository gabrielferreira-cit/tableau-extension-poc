{"version":3,"sources":["pages/Init.tsx","pages/Update.tsx","App.tsx","index.tsx"],"names":["SHEET_NAME","Init","useEffect","tableau","extensions","initializeAsync","then","console","info","dashboardContent","Error","worksheets","dashboard","worksheet","find","ws","name","addEventListener","TableauEventType","MarkSelectionChanged","event","a","url","window","location","pathname","ui","displayDialogAsync","width","height","getDataSourcesAsync","refreshAsync","initializeDialogAsync","type","onClick","closeDialog","App","className","basename","exact","path","Update","to","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2OAGMA,EAAa,8BAiDJC,EA/CK,WA4ClB,OA1CAC,qBAAU,WACRC,QAAQC,WAAWC,kBAAkBC,MAAK,WACxCC,QAAQC,KAAK,8BAEb,IAAMC,EAAmBN,QAAQC,WAAWK,iBAE5C,IAAKA,EACH,MAAM,IAAIC,MAAM,wCAGlB,IAAMC,EAAaF,EAAiBG,UAAUD,WAE9C,IAAKA,EACH,MAAM,IAAID,MAAM,gCAGlB,IAAMG,EAAYF,EAAWG,MAAK,SAAAC,GAAE,OAAIA,EAAGC,OAAShB,KAEpD,IAAKa,EACH,MAAM,IAAIH,MAAJ,2CAA6CV,EAA7C,MAGkBa,EAAUI,iBAClCd,QAAQe,iBAAiBC,qBADD,uCAExB,WAAOC,GAAP,eAAAC,EAAA,6DAEQC,EAFR,WAEkBC,OAAOC,SAASC,SAFlC,mBAI2BtB,QAAQC,WAAWsB,GAAGC,mBAAmBL,EAAK,GAAI,CAACM,MAAO,IAAKC,OAAQ,MAJlG,mDAO+BT,EAAgCP,UAAUiB,sBAPzE,cAQgB,GAAGC,eARnB,8BAUU,IAAIrB,MAAM,oCAVpB,4CAFwB,4DAiB3B,IAGI,8CC7BMT,EAlBK,WAUlB,OAJAC,qBAAU,WACRC,QAAQC,WAAW4B,0BAClB,IAGD,qCACE,2DACA,wBAAQC,KAAK,SAASC,QAXN,WAClB/B,QAAQC,WAAWsB,GAAGS,YAAY,uBAUhC,uBCQSC,EAlBH,WACV,OACE,qBAAKC,UAAU,MAAf,SACE,cAAC,IAAD,CAAeC,SAAS,wBAAxB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAlB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,UAAlB,SACE,cAACC,EAAD,MAEF,cAAC,IAAD,CAAUC,GAAG,cCXvBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.389b27b9.chunk.js","sourcesContent":["import { TableauEvent, TableauWorksheetEvent } from '@tableau/extensions-api-types';\nimport { useEffect } from 'react';\n\nconst SHEET_NAME = 'All Team Memeber Engagement';\n\nexport const Init = () => {\n\n  useEffect(() => {\n    tableau.extensions.initializeAsync().then(() => {\n      console.info('PoC Extension Initialized!');\n\n      const dashboardContent = tableau.extensions.dashboardContent;\n\n      if (!dashboardContent) {\n        throw new Error('Couldn\\'t load the dashboard content.');\n      }\n\n      const worksheets = dashboardContent.dashboard.worksheets;\n\n      if (!worksheets) {\n        throw new Error('Couldn\\'t load any worksheet.');\n      }\n      \n      const worksheet = worksheets.find(ws => ws.name === SHEET_NAME);\n\n      if (!worksheet) {\n        throw new Error(`Can't find the worksheet named \"${SHEET_NAME}\"`);\n      }\n\n      const unregisterHandler = worksheet.addEventListener(\n        tableau.TableauEventType.MarkSelectionChanged,\n        async (event: TableauEvent) => {\n\n          const url = `.${window.location.pathname}update`;\n\n          let closePayload = await tableau.extensions.ui.displayDialogAsync(url, '', {width: 600, height: 450});\n\n          if (closePayload) {\n            const dataSources = await (event as TableauWorksheetEvent).worksheet.getDataSourcesAsync();\n            dataSources[0].refreshAsync();\n          } else {\n            throw new Error('Error while loading data source.');\n          }\n        }\n      );      \n    });\n  }, []);\n\n\n  return <h1>Initialized</h1>;\n};\n\nexport default Init;\n","import { useEffect } from \"react\";\n\nexport const Init = () => {\n\n  const closeDialog = () => {\n    tableau.extensions.ui.closeDialog('Closed Successful!');\n  }\n\n  useEffect(() => {\n    tableau.extensions.initializeDialogAsync();\n  }, []);\n\n  return (\n    <>\n      <h1>Hello from Update Window!</h1>\n      <button type=\"button\" onClick={closeDialog}>Close</button>\n    </>\n  )\n};\n\nexport default Init;\n","import React from \"react\";\nimport { BrowserRouter, Switch, Route, Redirect } from \"react-router-dom\";\nimport Init from \"./pages/Init\";\nimport Update from \"./pages/Update\";\n\nconst App = () => {\n  return (\n    <div className=\"App\">\n      <BrowserRouter basename=\"tableau-extension-poc\">\n        <Switch>\n          <Route exact path=\"/\">\n            <Init />\n          </Route>\n          <Route exact path=\"/update\">\n            <Update />\n          </Route>\n          <Redirect to=\"/\" />\n        </Switch>\n      </BrowserRouter>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}